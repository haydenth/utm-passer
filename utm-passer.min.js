function getCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function setCookie(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires="+r.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"}function getUrlParams(e){let t={},n=e;n||(n=window.location.href);n.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,r){t[n]=r});return t}function getUrlParam(e){const t=getUrlParams();return t&&t[e]?t[e]:null}function overwriteOutgoingLinks(e,t,n){const r=document.getElementsByTagName("a");for(let o in r){let i=r[o].href,u=getUrlParams(i);if(e&&(u.utm_source=e),t&&(u.utm_medium=t),n&&(u.utm_campaign=n),i){let e=i.substring(i.indexOf("?")+1);i.indexOf("?")>0&&(e=i.substring(0,i.indexOf("?")));let t=Object.entries(u),n=(t=t.map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&");r[o].href=e+"?"+n}}}async function utmOverwrite(){const e=getUrlParam("utm_source"),t=getUrlParam("utm_medium"),n=getUrlParam("utm_campaign");(e||t||n)&&(console.log("utm-passer: overwriting outbound links..."),overwriteOutgoingLinks(e,t,n))}utmOverwrite();
